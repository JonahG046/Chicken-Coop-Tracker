{% extends "layout.html" %}

{% block content %}
<div class="card single-card">
    <h2>Egg Logs</h2>

    <button class="add-btn" onclick="openPopup('{{ url_for('add_eggs') }}')">
        Add Egg Log
    </button>

    <canvas id="eggChart"></canvas>
</div>

<script>
    const eggData = {{ egg_data|tojson }};

    new Chart(document.getElementById('eggChart'), {
        type: 'line',
        data: {
            labels: Object.keys(eggData),
            datasets: [{
                label: "Eggs Collected",
                data: Object.values(eggData),
                borderColor: "orange",
                backgroundColor: "transparent",
                tension: 0.3
            }]
        },
        options: {
            responsive: true,
            scales: { y: { beginAtZero: true } }
        }
    });
</script>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/popup.js') }}"></script>
{% endblock %}